# Comparing `tmp/aigc_zoo-0.1.11.post0-py3-none-any.whl.zip` & `tmp/aigc_zoo-0.1.11.post1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,41 +1,41 @@
-Zip file size: 64060 bytes, number of entries: 39
--rw-rw-rw-  2.0 fat       80 b- defN 23-Jun-16 14:31 aigc_zoo/__init__.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/__init__.py
--rw-rw-rw-  2.0 fat       66 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/baichuan/__init__.py
--rw-rw-rw-  2.0 fat     5578 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/baichuan/llm_model.py
--rw-rw-rw-  2.0 fat     9574 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/baichuan/tokenization_baichuan.py
--rw-rw-rw-  2.0 fat       66 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/baichuan2/__init__.py
--rw-rw-rw-  2.0 fat     5575 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/baichuan2/llm_model.py
--rw-rw-rw-  2.0 fat     8720 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/baichuan2/tokenization_baichuan.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/chatglm/__init__.py
--rw-rw-rw-  2.0 fat    17281 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/chatglm/llm_model.py
--rw-rw-rw-  2.0 fat     6435 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/chatglm/ppo_model.py
--rw-rw-rw-  2.0 fat     9700 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/chatglm/reward_model.py
--rw-rw-rw-  2.0 fat    17037 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/chatglm/tokenization_chatglm.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jul-04 13:32 aigc_zoo/model_zoo/chatglm2/__init__.py
--rw-rw-rw-  2.0 fat     9942 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/chatglm2/chatglm_model.py
--rw-rw-rw-  2.0 fat     9252 b- defN 23-Jul-04 13:32 aigc_zoo/model_zoo/chatglm2/tokenization_chatglm.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/llm/__init__.py
--rw-rw-rw-  2.0 fat     6344 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/llm/ilql_model.py
--rw-rw-rw-  2.0 fat     5443 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/llm/llm_model.py
--rw-rw-rw-  2.0 fat     6298 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/llm/ppo_model.py
--rw-rw-rw-  2.0 fat     9732 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/llm/reward_model.py
--rw-rw-rw-  2.0 fat     6704 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/llm/rrhf_model.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/moss/__init__.py
--rw-rw-rw-  2.0 fat     4554 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/moss/llm_model.py
--rw-rw-rw-  2.0 fat     2050 b- defN 23-Jun-16 14:52 aigc_zoo/model_zoo/moss/moss_model.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/rwkv4/__init__.py
--rw-rw-rw-  2.0 fat     5529 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/rwkv4/llm_model.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/model_zoo/t5/__init__.py
--rw-rw-rw-  2.0 fat     4950 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/t5/llm_model.py
--rw-rw-rw-  2.0 fat     5848 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/t5/ppo_model.py
--rw-rw-rw-  2.0 fat     9098 b- defN 23-Jul-11 11:21 aigc_zoo/model_zoo/t5/reward_model.py
--rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-16 11:35 aigc_zoo/utils/__init__.py
--rw-rw-rw-  2.0 fat     2764 b- defN 23-Jul-11 11:21 aigc_zoo/utils/llm_generate.py
--rw-rw-rw-  2.0 fat    13112 b- defN 23-Jul-11 11:21 aigc_zoo/utils/moss_generate.py
--rw-rw-rw-  2.0 fat    11357 b- defN 23-Jul-11 13:54 aigc_zoo-0.1.11.post0.dist-info/LICENSE
--rw-rw-rw-  2.0 fat      372 b- defN 23-Jul-11 13:54 aigc_zoo-0.1.11.post0.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-11 13:54 aigc_zoo-0.1.11.post0.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        9 b- defN 23-Jul-11 13:54 aigc_zoo-0.1.11.post0.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     3621 b- defN 23-Jul-11 13:54 aigc_zoo-0.1.11.post0.dist-info/RECORD
-39 files, 197799 bytes uncompressed, 58122 bytes compressed:  70.6%
+Zip file size: 64001 bytes, number of entries: 39
+-rw-rw-rw-  2.0 fat       80 b- defN 23-Jun-26 02:52 aigc_zoo/__init__.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/__init__.py
+-rw-rw-rw-  2.0 fat       66 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/baichuan/__init__.py
+-rw-rw-rw-  2.0 fat     5578 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/baichuan/llm_model.py
+-rw-rw-rw-  2.0 fat     9574 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/baichuan/tokenization_baichuan.py
+-rw-rw-rw-  2.0 fat       66 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/baichuan2/__init__.py
+-rw-rw-rw-  2.0 fat     5575 b- defN 23-Jul-11 04:15 aigc_zoo/model_zoo/baichuan2/llm_model.py
+-rw-rw-rw-  2.0 fat     8720 b- defN 23-Jul-11 03:13 aigc_zoo/model_zoo/baichuan2/tokenization_baichuan.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/chatglm/__init__.py
+-rw-rw-rw-  2.0 fat    17281 b- defN 23-Jul-12 00:39 aigc_zoo/model_zoo/chatglm/llm_model.py
+-rw-rw-rw-  2.0 fat     6435 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/chatglm/ppo_model.py
+-rw-rw-rw-  2.0 fat     9700 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/chatglm/reward_model.py
+-rw-rw-rw-  2.0 fat    17037 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/chatglm/tokenization_chatglm.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/chatglm2/__init__.py
+-rw-rw-rw-  2.0 fat     9942 b- defN 23-Jul-11 07:45 aigc_zoo/model_zoo/chatglm2/chatglm_model.py
+-rw-rw-rw-  2.0 fat     9252 b- defN 23-Jun-26 01:20 aigc_zoo/model_zoo/chatglm2/tokenization_chatglm.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/llm/__init__.py
+-rw-rw-rw-  2.0 fat     6344 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/llm/ilql_model.py
+-rw-rw-rw-  2.0 fat     5443 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/llm/llm_model.py
+-rw-rw-rw-  2.0 fat     6298 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/llm/ppo_model.py
+-rw-rw-rw-  2.0 fat     9732 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/llm/reward_model.py
+-rw-rw-rw-  2.0 fat     6704 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/llm/rrhf_model.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/moss/__init__.py
+-rw-rw-rw-  2.0 fat     4554 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/moss/llm_model.py
+-rw-rw-rw-  2.0 fat     2050 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/moss/moss_model.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/rwkv4/__init__.py
+-rw-rw-rw-  2.0 fat     5529 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/rwkv4/llm_model.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/model_zoo/t5/__init__.py
+-rw-rw-rw-  2.0 fat     4950 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/t5/llm_model.py
+-rw-rw-rw-  2.0 fat     5848 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/t5/ppo_model.py
+-rw-rw-rw-  2.0 fat     9098 b- defN 23-Jul-10 04:30 aigc_zoo/model_zoo/t5/reward_model.py
+-rw-rw-rw-  2.0 fat       77 b- defN 23-Jun-26 02:52 aigc_zoo/utils/__init__.py
+-rw-rw-rw-  2.0 fat     2664 b- defN 23-Jul-12 07:02 aigc_zoo/utils/llm_generate.py
+-rw-rw-rw-  2.0 fat    13002 b- defN 23-Jul-12 07:04 aigc_zoo/utils/moss_generate.py
+-rw-rw-rw-  2.0 fat    11357 b- defN 23-Jul-12 07:50 aigc_zoo-0.1.11.post1.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat      357 b- defN 23-Jul-12 07:50 aigc_zoo-0.1.11.post1.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-12 07:50 aigc_zoo-0.1.11.post1.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        9 b- defN 23-Jul-12 07:50 aigc_zoo-0.1.11.post1.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     3621 b- defN 23-Jul-12 07:50 aigc_zoo-0.1.11.post1.dist-info/RECORD
+39 files, 197574 bytes uncompressed, 58063 bytes compressed:  70.6%
```

## zipnote {}

```diff
@@ -96,23 +96,23 @@
 
 Filename: aigc_zoo/utils/llm_generate.py
 Comment: 
 
 Filename: aigc_zoo/utils/moss_generate.py
 Comment: 
 
-Filename: aigc_zoo-0.1.11.post0.dist-info/LICENSE
+Filename: aigc_zoo-0.1.11.post1.dist-info/LICENSE
 Comment: 
 
-Filename: aigc_zoo-0.1.11.post0.dist-info/METADATA
+Filename: aigc_zoo-0.1.11.post1.dist-info/METADATA
 Comment: 
 
-Filename: aigc_zoo-0.1.11.post0.dist-info/WHEEL
+Filename: aigc_zoo-0.1.11.post1.dist-info/WHEEL
 Comment: 
 
-Filename: aigc_zoo-0.1.11.post0.dist-info/top_level.txt
+Filename: aigc_zoo-0.1.11.post1.dist-info/top_level.txt
 Comment: 
 
-Filename: aigc_zoo-0.1.11.post0.dist-info/RECORD
+Filename: aigc_zoo-0.1.11.post1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## aigc_zoo/utils/llm_generate.py

```diff
@@ -5,17 +5,17 @@
 from typing import List, Tuple
 import torch
 from transformers import PreTrainedModel
 
 class Generate:
     @classmethod
     @torch.no_grad()
-    def generate(cls,model: PreTrainedModel, tokenizer, query: str, max_length: int = 2048, num_beams=1,
+    def generate(cls,model: PreTrainedModel, tokenizer, query: str, num_beams=1,
              do_sample=True, top_p=0.7, temperature=0.95, logits_processor=None, **kwargs):
-        gen_kwargs = {"max_length": max_length, "num_beams": num_beams, "do_sample": do_sample, "top_p": top_p,
+        gen_kwargs = {"num_beams": num_beams, "do_sample": do_sample, "top_p": top_p,
                       "temperature": temperature, "logits_processor": logits_processor, **kwargs}
         output_scores = gen_kwargs.get('output_scores', False)
         if output_scores:
             gen_kwargs['return_dict_in_generate'] = True
         # prompt = "Human：" + query + "\nAssistant："
         #自行加模板
         prompt = query
@@ -27,20 +27,20 @@
             return score
         outputs = outputs.tolist()[0][len(inputs["input_ids"][0]):]
         response = tokenizer.decode(outputs)
         return response
 
     @classmethod
     @torch.no_grad()
-    def chat(cls, model: PreTrainedModel, tokenizer, query: str, history: List[Tuple[str, str]] = None, max_length: int = 2048, num_beams=1,
+    def chat(cls, model: PreTrainedModel, tokenizer, query: str, history: List[Tuple[str, str]] = None, num_beams=1,
              do_sample=True, top_p=0.7, temperature=0.95, logits_processor=None, **kwargs):
         if history is None:
             history = []
 
-        gen_kwargs = {"max_length": max_length, "num_beams": num_beams, "do_sample": do_sample, "top_p": top_p,
+        gen_kwargs = {"num_beams": num_beams, "do_sample": do_sample, "top_p": top_p,
                       "temperature": temperature, "logits_processor": logits_processor, **kwargs}
 
         output_scores = gen_kwargs.get('output_scores', False)
         if output_scores:
             gen_kwargs['return_dict_in_generate'] = True
 
         if not history:
```

## aigc_zoo/utils/moss_generate.py

```diff
@@ -63,27 +63,26 @@
             "max_iterations": 512,
             "regulation_start": 512,
             "prefix_length": len(self.prefix),
         }
         
 
     @torch.no_grad()
-    def generate_text(self,text: str,max_length=2048,do_sample=False, top_p=0.7, temperature=0.95,**kwargs):
+    def generate_text(self,text: str,do_sample=False, top_p=0.7, temperature=0.95,**kwargs):
         output_scores = kwargs.get('output_scores', False)
         if output_scores:
             kwargs['return_dict_in_generate'] = True
 
-        tokens = self.tokenizer.encode_plus(text, max_length=512, truncation=True, return_tensors='pt')
+        tokens = self.tokenizer.encode_plus(text,  return_tensors='pt')
         input_ids, attention_mask = tokens['input_ids'], tokens['attention_mask']
 
         input_ids = input_ids.to(self.model.device)
         attention_mask = attention_mask.to(self.model.device)
         outputs = self.model.generate(input_ids=input_ids,
                                       attention_mask=attention_mask,
-                                      max_length=max_length,
                                       do_sample=do_sample,
                                       top_p=top_p,
                                       temperature=temperature, **kwargs)
         if output_scores:
             score = outputs.scores[0]
             return score
         response = self.tokenizer.decode(outputs[0])
@@ -126,15 +125,15 @@
     @torch.no_grad()
     def chat_inner(self, input_ids,
                    attention_mask,
                    temperature=0.7,
                    repetition_penalty=1.1,
                    top_k=0,
                    top_p=0.92,
-                   max_iterations=1024,
+                   max_iterations=2048,
                    regulation_start=512,
                    length_penalty=1,
                    max_time=60,
                    extra_ignored_tokens=None,
                    **kwargs):
         """
         """
```

## Comparing `aigc_zoo-0.1.11.post0.dist-info/LICENSE` & `aigc_zoo-0.1.11.post1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `aigc_zoo-0.1.11.post0.dist-info/RECORD` & `aigc_zoo-0.1.11.post1.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -26,14 +26,14 @@
 aigc_zoo/model_zoo/rwkv4/__init__.py,sha256=RFimplzKNFznknZ0MzZDOhcvck-tAJQ53rTCMX-shS8,77
 aigc_zoo/model_zoo/rwkv4/llm_model.py,sha256=_EjnUp_TnzFWiotKSW6VqhZfHkupT_91yyy6KhWqyyQ,5529
 aigc_zoo/model_zoo/t5/__init__.py,sha256=RFimplzKNFznknZ0MzZDOhcvck-tAJQ53rTCMX-shS8,77
 aigc_zoo/model_zoo/t5/llm_model.py,sha256=CJmPXz4Q04geCgMFiN8AyPYLwVfthW0UvdZhipkUdWw,4950
 aigc_zoo/model_zoo/t5/ppo_model.py,sha256=eXm5sKi4WgISU95r25OCJhrP_ziYy3wRwALn1bf6_24,5848
 aigc_zoo/model_zoo/t5/reward_model.py,sha256=YhWq_Q6zNgQYlyrR3R79NDUkf4BZZiSB8gMzjS2n9kY,9098
 aigc_zoo/utils/__init__.py,sha256=Oc9cllKC2z1rKpYMLkfRj01Jud2WLQaZ_Dd89t4sreY,77
-aigc_zoo/utils/llm_generate.py,sha256=IUzVSgVy0Qd08KHqAr9M-NrzcKm7Tkn7Qu06EwlW3Qc,2764
-aigc_zoo/utils/moss_generate.py,sha256=PsXEy8g2hp1tdFbv_bz4jv_Ua6OFWXhJ7yezE2k53k4,13112
-aigc_zoo-0.1.11.post0.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-aigc_zoo-0.1.11.post0.dist-info/METADATA,sha256=SkPz5gz-lUmncgrBAaCEW4x2Gc7i6WDHwsB9_m2nosk,372
-aigc_zoo-0.1.11.post0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-aigc_zoo-0.1.11.post0.dist-info/top_level.txt,sha256=dl7_T4oT72ShHHM2khyOXJL4Kyvq0u_TdVolu-lKbnY,9
-aigc_zoo-0.1.11.post0.dist-info/RECORD,,
+aigc_zoo/utils/llm_generate.py,sha256=92TvTXISdU7GSrBgMYJoFyicWxkXrm_-02O4jcDnMp0,2664
+aigc_zoo/utils/moss_generate.py,sha256=P098NOvpytYjSSmtK_1dhVQEvZBURLfFHQ0YBWx8Fr4,13002
+aigc_zoo-0.1.11.post1.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+aigc_zoo-0.1.11.post1.dist-info/METADATA,sha256=JzLXchI4ojk857d6__v8NmeMp3OIKyH8IiJ_dT4QEFI,357
+aigc_zoo-0.1.11.post1.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
+aigc_zoo-0.1.11.post1.dist-info/top_level.txt,sha256=dl7_T4oT72ShHHM2khyOXJL4Kyvq0u_TdVolu-lKbnY,9
+aigc_zoo-0.1.11.post1.dist-info/RECORD,,
```

